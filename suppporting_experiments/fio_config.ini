[write_locality_test]
# --- Core Requirements ---
rw=randwrite                 # 1. Not interested in reads: Only perform writes
direct=0                 # 2. posix pwrite should be used without direct IO (default is buffered IO)
ioengine=psync           # Use the psync engine for standard POSIX I/O (pwrite)

# --- Locality and Chunk Size ---
bs=64k                   # 4. Writes should be done in 64KB chunks for spatial locality
size=4g                  # Total size of the test file (adjust as needed, must be large enough for zipfian)
filename=/mnt/f2fs/test  # **CHANGE THIS TO YOUR TARGET FILE/DEVICE**

# --- Temporal Locality (Zipfian) ---
; stonewall
# Use a random distribution with a Zipfian skew
norandommap=1
rwmixread=0              # Ensure no reads in the mixed workload (redundant with rw=write, but good practice)
randrepeat=0
random_distribution=zipf:1.2  # 5. Follow a pattern similar to zipfian
; zipfian_exp=0.8          # Zipfian exponent. 0.0 is uniform random, 1.0 is very skewed. (0.8 is a common strong skew)

# --- fdatasync Control ---
; fdatasync=1              # 3. It should call fdatasync...
; fdatasync_interval=100   # ...but not after every write. Call fdatasync after every 100 writes
; sync_file_range=wait_after:100
fdatasync=1